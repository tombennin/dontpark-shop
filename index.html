<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DontPark.ai - Action Nissan Dashboard</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, sans-serif;
            background: #f8fafc;
            color: #333;
            line-height: 1.6;
        }
        
        .header {
            background: linear-gradient(135deg, #1e3a8a 0%, #3b82f6 100%);
            color: white;
            padding: 20px 0;
            box-shadow: 0 4px 12px rgba(0,0,0,0.1);
        }
        
        .header-content {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 1.8em;
            font-weight: 700;
        }
        
        .shop-info {
            text-align: right;
        }
        
        .claude-badge {
            background: rgba(255,255,255,0.2);
            padding: 5px 15px;
            border-radius: 20px;
            font-size: 0.9em;
            margin-bottom: 5px;
            display: inline-block;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 30px 20px;
        }
        
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 40px;
        }
        
        .stat-card {
            background: white;
            padding: 25px;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            text-align: center;
            border-left: 4px solid #3b82f6;
            transition: transform 0.2s, box-shadow 0.2s;
        }
        
        .stat-card:hover {
            transform: translateY(-2px);
            box-shadow: 0 8px 24px rgba(0,0,0,0.1);
        }
        
        .stat-number {
            font-size: 2.5em;
            font-weight: 700;
            color: #1e3a8a;
        }
        
        .stat-label {
            color: #64748b;
            font-weight: 500;
            margin-top: 5px;
        }
        
        .main-content {
            display: grid;
            grid-template-columns: 2fr 1fr;
            gap: 30px;
        }
        
        .bookings-section {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .section-header {
            background: #f8fafc;
            padding: 20px 25px;
            border-bottom: 1px solid #e2e8f0;
            font-weight: 600;
            font-size: 1.2em;
            color: #1e3a8a;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .booking-card {
            padding: 25px;
            border-bottom: 1px solid #f1f5f9;
            transition: background 0.2s;
        }
        
        .booking-card:hover {
            background: #f8fafc;
        }
        
        .booking-card:last-child {
            border-bottom: none;
        }
        
        .booking-header {
            display: flex;
            justify-content: space-between;
            align-items: flex-start;
            margin-bottom: 15px;
        }
        
        .customer-info {
            flex: 1;
        }
        
        .customer-name {
            font-size: 1.3em;
            font-weight: 600;
            color: #1e3a8a;
            margin-bottom: 5px;
        }
        
        .vehicle-info {
            color: #64748b;
            margin-bottom: 10px;
        }
        
        .contact-info {
            color: #64748b;
            font-size: 0.9em;
        }
        
        .flight-info {
            background: #dbeafe;
            padding: 10px 15px;
            border-radius: 10px;
            font-size: 0.9em;
            color: #1e40af;
            margin-bottom: 15px;
        }
        
        .claude-diagnosis {
            background: #f0f9ff;
            border: 2px solid #bae6fd;
            border-radius: 10px;
            padding: 15px;
            margin: 15px 0;
        }
        
        .claude-diagnosis h4 {
            color: #1e40af;
            margin-bottom: 10px;
            display: flex;
            align-items: center;
            gap: 8px;
        }
        
        .diagnosis-text {
            color: #374151;
            line-height: 1.5;
        }
        
        .estimated-cost {
            background: #dcfce7;
            border: 2px solid #16a34a;
            border-radius: 8px;
            padding: 10px 15px;
            margin-top: 10px;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .cost-label {
            color: #15803d;
            font-weight: 600;
        }
        
        .cost-amount {
            color: #15803d;
            font-size: 1.1em;
            font-weight: 700;
        }
        
        .action-buttons {
            display: flex;
            gap: 10px;
            margin-top: 15px;
            flex-wrap: wrap;
        }
        
        .btn {
            padding: 10px 16px;
            border: none;
            border-radius: 8px;
            cursor: pointer;
            font-weight: 500;
            transition: all 0.2s;
            font-size: 0.9em;
        }
        
        .btn-primary {
            background: #3b82f6;
            color: white;
        }
        
        .btn-primary:hover {
            background: #2563eb;
            transform: translateY(-1px);
        }
        
        .btn-secondary {
            background: #e2e8f0;
            color: #475569;
        }
        
        .btn-secondary:hover {
            background: #cbd5e1;
        }
        
        .btn-success {
            background: #10b981;
            color: white;
        }
        
        .btn-success:hover {
            background: #059669;
            transform: translateY(-1px);
        }
        
        .sidebar {
            display: flex;
            flex-direction: column;
            gap: 20px;
        }
        
        .chat-with-claude {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            overflow: hidden;
        }
        
        .chat-messages {
            height: 300px;
            overflow-y: auto;
            padding: 20px;
            background: #f8fafc;
        }
        
        .chat-message {
            margin-bottom: 15px;
            padding: 12px;
            border-radius: 10px;
            max-width: 85%;
            animation: slideIn 0.3s ease-out;
        }
        
        @keyframes slideIn {
            from { opacity: 0; transform: translateX(-20px); }
            to { opacity: 1; transform: translateX(0); }
        }
        
        .user-message {
            background: #3b82f6;
            color: white;
            margin-left: auto;
            text-align: right;
        }
        
        .claude-message {
            background: white;
            border: 1px solid #e2e8f0;
            margin-right: auto;
        }
        
        .chat-input-container {
            padding: 20px;
            border-top: 1px solid #e2e8f0;
        }
        
        .chat-input {
            width: 100%;
            padding: 12px;
            border: 1px solid #d1d5db;
            border-radius: 8px;
            resize: none;
            height: 60px;
            transition: border-color 0.2s;
        }
        
        .chat-input:focus {
            outline: none;
            border-color: #3b82f6;
            box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
        }
        
        .quick-actions {
            background: white;
            border-radius: 15px;
            box-shadow: 0 4px 12px rgba(0,0,0,0.05);
            padding: 25px;
        }
        
        .quick-action {
            display: block;
            width: 100%;
            padding: 15px;
            margin-bottom: 10px;
            background: #f8fafc;
            border: 1px solid #e2e8f0;
            border-radius: 10px;
            text-decoration: none;
            color: #374151;
            font-weight: 500;
            transition: all 0.2s;
        }
        
        .quick-action:hover {
            background: #e2e8f0;
            transform: translateY(-1px);
            box-shadow: 0 4px 8px rgba(0,0,0,0.1);
        }
        
        .status-badge {
            padding: 4px 12px;
            border-radius: 20px;
            font-size: 0.8em;
            font-weight: 600;
            margin-left: 10px;
        }
        
        .status-new {
            background: #fef3c7;
            color: #92400e;
        }
        
        .status-confirmed {
            background: #d1fae5;
            color: #065f46;
        }
        
        .status-in-progress {
            background: #dbeafe;
            color: #1e40af;
        }
        
        .notification {
            background: #fef2f2;
            border: 1px solid #fecaca;
            color: #991b1b;
            padding: 12px 15px;
            border-radius: 8px;
            margin-bottom: 20px;
            display: flex;
            align-items: center;
            gap: 10px;
            animation: slideDown 0.3s ease-out;
        }
        
        @keyframes slideDown {
            from { opacity: 0; transform: translateY(-10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        .booking-count {
            background: #3b82f6;
            color: white;
            padding: 4px 8px;
            border-radius: 15px;
            font-size: 0.8em;
            font-weight: 600;
        }
        
        @media (max-width: 768px) {
            .main-content {
                grid-template-columns: 1fr;
            }
            
            .header-content {
                flex-direction: column;
                gap: 15px;
                text-align: center;
            }
            
            .action-buttons {
                flex-direction: column;
            }
            
            .btn {
                width: 100%;
            }
        }
    </style>
</head>
<body>
    <div class="header">
        <div class="header-content">
            <div class="logo">DontPark.ai</div>
            <div class="shop-info">
                <div class="claude-badge">Claude AI Powered ✨</div>
                <div>Action Nissan - Thompson Lane</div>
            </div>
        </div>
    </div>

    <div class="container">
        <!-- Stats Grid -->
        <div class="stats-grid">
            <div class="stat-card">
                <div class="stat-number">7</div>
                <div class="stat-label">Today's Bookings</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">$1,960</div>
                <div class="stat-label">Today's Revenue</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">42</div>
                <div class="stat-label">This Week</div>
            </div>
            <div class="stat-card">
                <div class="stat-number">4.9⭐</div>
                <div class="stat-label">Average Rating</div>
            </div>
        </div>

        <!-- Flight Delay Notification -->
        <div class="notification">
            ⚠️ <strong>Flight Alert:</strong> WN 1247 delayed 45 minutes. Sarah's pickup automatically rescheduled.
        </div>

        <div class="main-content">
            <!-- Bookings Section -->
            <div class="bookings-section">
                <div class="section-header">
                    Today's Bookings & Services
                    <div class="booking-count">3 Active</div>
                </div>
                
                <!-- Booking 1 - New -->
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="customer-info">
                            <div class="customer-name">Sarah Mitchell <span class="status-badge status-new">NEW</span></div>
                            <div class="vehicle-info">2019 Honda Civic • Silver • TN ABC123</div>
                            <div class="contact-info">📱 (615) 555-0123 • 📧 sarah.mitchell@email.com</div>
                        </div>
                    </div>
                    
                    <div class="flight-info">
                        ✈️ <strong>Flight:</strong> WN 1247 • Departs: 3:45 PM (DELAYED +45 min) • Pickup: 1:30 PM → 2:15 PM
                    </div>
                    
                    <div class="claude-diagnosis">
                        <h4>🤖 Claude's Diagnosis</h4>
                        <div class="diagnosis-text">
                            <strong>Customer described:</strong> "Grinding noise when I turn, especially from parking lots"<br><br>
                            <strong>Claude's assessment:</strong> Likely CV joint wear. Common in vehicles with 60k+ miles. Symptoms match outer CV joint failure pattern. Recommend inspection of both front CV joints and boots.
                        </div>
                        <div class="estimated-cost">
                            <span class="cost-label">Estimated Cost:</span>
                            <span class="cost-amount">$280-320 per side</span>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="confirmBooking('sarah')">✅ Confirm Booking</button>
                        <button class="btn btn-secondary" onclick="askClaude('cv-joint-questions')">🤖 Ask Claude More</button>
                        <button class="btn btn-secondary" onclick="callCustomer('sarah')">📞 Call Customer</button>
                    </div>
                </div>

                <!-- Booking 2 - Confirmed -->
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="customer-info">
                            <div class="customer-name">Mike Rodriguez <span class="status-badge status-confirmed">CONFIRMED</span></div>
                            <div class="vehicle-info">2017 Ford F-150 • Blue • TN XYZ789</div>
                            <div class="contact-info">📱 (615) 555-0456 • 📧 mike.rodriguez@email.com</div>
                        </div>
                    </div>
                    
                    <div class="flight-info">
                        ✈️ <strong>Flight:</strong> AA 2156 • Departs: 6:20 PM • Pickup: 4:00 PM
                    </div>
                    
                    <div class="claude-diagnosis">
                        <h4>🤖 Claude's Diagnosis</h4>
                        <div class="diagnosis-text">
                            <strong>Customer described:</strong> "Truck pulls to the right, steering wheel vibrates"<br><br>
                            <strong>Claude's assessment:</strong> Alignment issue combined with possible warped brake rotors. Check tire wear patterns first, then test drive to confirm brake rotor warping.
                        </div>
                        <div class="estimated-cost">
                            <span class="cost-label">Estimated Cost:</span>
                            <span class="cost-amount">$329 total</span>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-success" onclick="startService('mike')">🔧 Start Service</button>
                        <button class="btn btn-secondary" onclick="viewHistory('mike')">💬 View Chat History</button>
                    </div>
                </div>

                <!-- Booking 3 - In Progress -->
                <div class="booking-card">
                    <div class="booking-header">
                        <div class="customer-info">
                            <div class="customer-name">Jennifer Kim <span class="status-badge status-in-progress">IN PROGRESS</span></div>
                            <div class="vehicle-info">2020 Toyota RAV4 • White • TN DEF456</div>
                            <div class="contact-info">📱 (615) 555-0789 • 📧 jennifer.kim@email.com</div>
                        </div>
                    </div>
                    
                    <div class="flight-info">
                        ✈️ <strong>Flight:</strong> DL 891 • Returns: Tomorrow 8:30 AM
                    </div>
                    
                    <div class="claude-diagnosis">
                        <h4>🤖 Service Update</h4>
                        <div class="diagnosis-text">
                            <strong>Original issue:</strong> "Air conditioning not cooling properly"<br><br>
                            <strong>Current status:</strong> A/C system diagnosed - low refrigerant due to small leak in condenser. Condenser replacement in progress. Customer approved repair via text.
                        </div>
                        <div class="estimated-cost">
                            <span class="cost-label">Final Cost:</span>
                            <span class="cost-amount">$420 (Approved)</span>
                        </div>
                    </div>
                    
                    <div class="action-buttons">
                        <button class="btn btn-primary" onclick="updateCustomer('jennifer')">📱 Update Customer</button>
                        <button class="btn btn-success" onclick="completeService('jennifer')">✅ Mark Complete</button>
                    </div>
                </div>
            </div>

            <!-- Sidebar -->
            <div class="sidebar">
                <!-- Chat with Claude -->
                <div class="chat-with-claude">
                    <div class="section-header">Ask Claude Anything</div>
                    <div class="chat-messages" id="claudeChat">
                        <div class="chat-message claude-message">
                            <strong>Claude:</strong> Hi! I'm here to help with any automotive questions, customer communication, or diagnostic advice. What would you like to know?
                        </div>
                    </div>
                    <div class="chat-input-container">
                        <textarea class="chat-input" placeholder="Ask Claude about diagnostics, customer communication, or anything else..." onkeypress="handleChatKeyPress(event)"></textarea>
                        <button class="btn btn-primary" style="margin-top: 10px; width: 100%;" onclick="sendToClaude()">Ask Claude</button>
                    </div>
                </div>

                <!-- Quick Actions -->
                <div class="quick-actions">
                    <div class="section-header" style="padding: 0; background: none; border: none; margin-bottom: 15px;">Quick Actions</div>
                    <a href="#" class="quick-action" onclick="checkFlights()">✈️ Check Flight Status</a>
                    <a href="#" class="quick-action" onclick="viewSchedule()">📅 View Tomorrow's Schedule</a>
                    <a href="#" class="quick-action" onclick="customerFeedback()">⭐ Customer Feedback</a>
                    <a href="#" class="quick-action" onclick="supportTicket()">🎫 Contact DontPark Support</a>
                    <a href="#" class="quick-action" onclick="viewEarnings()">💰 View Monthly Earnings</a>
                </div>
            </div>
        </div>
    </div>

    <script>
        function confirmBooking(customer) {
            showNotification(`Booking confirmed for ${customer}! Pickup reminder set for 1 hour before scheduled time.`, 'success');
            // Update status badge to confirmed
            event.target.closest('.booking-card').querySelector('.status-badge').textContent = 'CONFIRMED';
            event.target.closest('.booking-card').querySelector('.status-badge').className = 'status-badge status-confirmed';
        }

        function askClaude(topic) {
            const responses = {
                'cv-joint-questions': "For CV joint diagnosis, ask the customer: 1) Does the grinding happen more when turning left or right? 2) Any clicking sounds when backing out of parking spaces? 3) Have they noticed any grease on the inner wheel wells? These details will help confirm which side needs replacement and provide a more accurate estimate."
            };
            
            addClaudeMessage(responses[topic] || "I'm here to help with any diagnostic questions!");
        }

        function callCustomer(customer) {
            showNotification(`Calling ${customer}... (This would integrate with your phone system)`, 'info');
        }

        function startService(customer) {
            showNotification(`Service started for ${customer}. Timer activated and customer notified.`, 'success');
            // Update status to in progress
            event.target.closest('.booking-card').querySelector('.status-badge').textContent = 'IN PROGRESS';
            event.target.closest('.booking-card').querySelector('.status-badge').className = 'status-badge status-in-progress';
        }

        function viewHistory(customer) {
            showNotification(`Opening chat history for ${customer}...`, 'info');
        }

        function updateCustomer(customer) {
            showNotification(`Sending update to ${customer}: "A/C repair in progress, will be ready by 7 AM as scheduled."`, 'success');
        }

        function completeService(customer) {
            showNotification(`Service marked complete for ${customer}. Customer charged and receipt sent.`, 'success');
        }

        function handleChatKeyPress(event) {
            if (event.key === 'Enter' && !event.shiftKey) {
                event.preventDefault();
                sendToClaude();
            }
        }

        function sendToClaude() {
            const input = document.querySelector('.chat-input');
            const message = input.value.trim();
            
            if (!message) return;

            // Add user message
            addUserMessage(message);
            input.value = '';

            // Simulate Claude response
            setTimeout(() => {
                const response = generateClaudeResponse(message);
                addClaudeMessage(response);
            }, 1000);
        }

        function addUserMessage(message) {
            const chatContainer = document.getElementById('claudeChat');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message user-message';
            messageDiv.innerHTML = `<strong>You:</strong> ${message}`;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function addClaudeMessage(message) {
            const chatContainer = document.getElementById('claudeChat');
            const messageDiv = document.createElement('div');
            messageDiv.className = 'chat-message claude-message';
            messageDiv.innerHTML = `<strong>Claude:</strong> ${message}`;
            chatContainer.appendChild(messageDiv);
            chatContainer.scrollTop = chatContainer.scrollHeight;
        }

        function generateClaudeResponse(message) {
            const lower = message.toLowerCase();
            
            if (lower.includes('brake') || lower.includes('noise')) {
                return "For brake noises, ask: 1) When does it happen (braking, turning, backing up)? 2) What type of sound (squealing, grinding, clicking)? 3) How long has it been happening? This helps determine if it's pads, rotors, or CV joints.";
            } else if (lower.includes('alignment') || lower.includes('pull')) {
                return "For alignment issues: 1) Check tire wear patterns first 2) Test drive to confirm pulling direction 3) Check tire pressure 4) If confirmed, alignment typically runs $89-129 depending on vehicle type.";
            } else if (lower.includes('customer') || lower.includes('communication')) {
                return "For customer communication, I recommend: 1) Explain the issue in simple terms 2) Provide cost estimate upfront 3) Give timeline for completion 4) Send progress updates. Would you like me to draft a message?";
            } else {
                const responses = [
                    "For that type of issue, I'd recommend checking the most common causes first. What specific symptoms did the customer describe?",
                    "That sounds like a classic case. Here's what I'd suggest checking first, and then the follow-up questions to ask the customer...",
                    "Great question! Based on the symptoms, here are the diagnostic steps I'd recommend, in order of likelihood...",
                    "For customer communication about that repair, I'd suggest explaining it this way to keep it simple and clear."
                ];
                return responses[Math.floor(Math.random() * responses.length)];
            }
        }

        // Quick action functions
        function checkFlights() {
            showNotification("Flight Status:\n✅ WN 1247: Delayed +45 min\n✅ AA 2156: On time\n✅ DL 891: On time", 'info');
        }

        function viewSchedule() {
            showNotification("Tomorrow's Schedule:\n8:00 AM - Jennifer Kim pickup\n10:30 AM - New booking: Tom Wilson\n2:15 PM - New booking: Lisa Chen", 'info');
        }

        function customerFeedback() {
            showNotification("Recent Reviews:\n⭐⭐⭐⭐⭐ 'Claude's diagnosis was spot on!' - Mike R.\n⭐⭐⭐⭐⭐ 'Saved me $200 vs the dealer' - Sarah M.", 'success');
        }

        function supportTicket() {
            showNotification("Opening support ticket system... (This would connect to DontPark support)", 'info');
        }

        function viewEarnings() {
            showNotification("Monthly Earnings:\nThis Month: $12,450\nLast Month: $11,200\nAverage/booking: $280", 'info');
        }

        // Notification system
        function showNotification(message, type = 'info') {
            const notification = document.createElement('div');
            notification.className = `notification ${type}`;
            notification.innerHTML = `
                <span>${type === 'success' ? '✅' : type === 'warning' ? '⚠️' : 'ℹ️'}</span>
                <span>${message.replace(/\n/g, '<br>')}</span>
            `;
            
            const container = document.querySelector('.container');
            container.insertBefore(notification, container.firstChild);
            
            // Auto remove after 5 seconds
            setTimeout(() => {
                notification.remove();
            }, 5000);
        }

        // Initialize dashboard
        document.addEventListener('DOMContentLoaded', function() {
            // Auto-refresh stats every 30 seconds (in real implementation)
            // setInterval(refreshStats, 30000);
            
            // Load initial data (in real implementation)
            // loadBookings();
            // loadStats();
        });
    </script>
</body>
</html>
